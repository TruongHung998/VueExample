var VueSkipTo=function(e,t){"use strict";const n="Disqus shortname is required. (To resolve this, go to: https://ktquez.github.io/vue-disqus/setup.html#installation)",o=["api_key","author_s3","category_id","identifier","integration","language","remote_auth_s3","slug","title","url"],i=["name","button","icon","url","logout","width","height"],r=["afterRender","onInit","onIdentify","beforeComment","onNewComment","onPaginate","onReady","preData","preInit","preReset"],s=Symbol("disqus"),a=e=>requestAnimationFrame((()=>requestAnimationFrame(e)));var u=t.defineComponent({name:"Disqus",props:{shortname:String,pageConfig:{type:Object,validator:e=>Object.keys(e).every((e=>o.includes(e)))},ssoConfig:{type:Object,validator:e=>Object.keys(e).every((e=>i.includes(e)))},lang:{type:String,default:"en"},lazy:{type:Boolean,default:!0},lazyConfig:{type:Object,default:()=>({root:null,rootMargin:"300px",threshold:.5})}},setup(e,{emit:o}){const i=t.inject(s),a=t.getCurrentInstance(),u=t.ref(null),c=t.ref(window.location.pathname),l=t.computed((()=>{const t=e.shortname||i.shortname;if(!t)throw new Error(n);return t}));function d(){if(i&&(i.reset=g),window.DISQUS)return g();window.disqus_config=function(){f(this)},function(){const e=+new Date,t=document,n=t.createElement("script");n.setAttribute("id","embed-disqus"),n.setAttribute("data-timestamp",e.toString()),n.type="text/javascript",n.async=!0,n.src=`//${l.value}.disqus.com/embed.js`,(t.head||t.body).appendChild(n)}(),t.watch((()=>c.value),g)}function g(){window.DISQUS.reset({reload:!0,config:function(){f(this)}})}function p(e){e.forEach((e=>{var t;e.isIntersecting&&(null==(t=u.value)||t.disconnect(),d())}))}function f(t){!function(t){const n={url:document.baseURI,identifier:window.location.pathname};Object.assign(t.page,n),e.pageConfig&&Object.keys(e.pageConfig).length&&Object.assign(t.page,e.pageConfig)}(t),function(e){r.forEach((t=>{e.callbacks[t]=[e=>{o(t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().replace("on-",""),e)}]}))}(t),e.ssoConfig&&Object.keys(e.ssoConfig).length&&Object.assign(t.sso,e.ssoConfig),t.language=e.lang}t.watch((()=>e.lang),g),t.onMounted((()=>{if(e.lazy)return function(){var t;if("IntersectionObserver"in window)return u.value=new IntersectionObserver(p,e.lazyConfig),u.value.observe(null==(t=null==a?void 0:a.proxy)?void 0:t.$el);d()}();d()}))}});const c={id:"disqus_thread",style:{"min-height":"200px"}};u.render=function(e,n){return t.openBlock(),t.createBlock("div",c)};var l=t.defineComponent({name:"DisqusCount",props:{url:String,shortname:String,identifier:{type:String,required:!0},tag:{type:String,default:"span"}},setup(e){const o=t.inject(s),i=t.ref(window.location.pathname),r=t.computed((()=>"a"===e.tag?`${e.url}#disqus_thread`:"#")),u=t.computed((()=>"span"===e.tag?e.url:null)),c=t.computed((()=>{const t=e.shortname||o?o.shortname:null;if(!t)throw new Error(n);return t})),l={href:r.value,"data-disqus-url":u.value,"data-disqus-identifier":e.identifier};function d(){window.DISQUSWIDGETS.getCount({reset:!0})}return t.onMounted((function(){if("DISQUSWIDGETS"in window)return a((()=>d()));(function(){if(document.getElementById("dsq-count-scr"))return;const e=document,t=e.createElement("script");t.async=!0,t.id="dsq-count-scr",t.src=`//${c.value}.disqus.com/count.js`,(e.head||e.body).appendChild(t)})(),t.watch((()=>i.value),(()=>a((()=>d()))))})),{disqusAttrs:l}}});return l.render=function(e,n){return t.openBlock(),t.createBlock(t.resolveDynamicComponent(e.tag),t.mergeProps({class:"disqus-comment-count"},e.disqusAttrs),null,16)},e.Disqus=u,e.DisqusCount=l,e.default=function(e,t={}){e.component("Disqus",u),e.component("DisqusCount",l);const n={shortname:t.shortname,reset:null};e.provide(s,n)},Object.defineProperty(e,"__esModule",{value:!0}),e[Symbol.toStringTag]="Module",e}({},Vue);
